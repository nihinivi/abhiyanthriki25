import React, { useState, useMemo } from "react";
import { allEvents } from "../data/EventData";

// --- SVG SHAPE COMPONENTS (Unchanged) ---

const ImageClipPathSVG = () => (
    <svg width="0" height="0" className="absolute">
        <defs>
            {/* This clip path is for the card that will be on the LEFT */}
            <clipPath id="left-card-clip" clipPathUnits="objectBoundingBox">
                {/* This path needs to match the shape of your new left card if you want to clip it perfectly */}
                {/* For now, I'm keeping the original path that worked for the previous left card. */}
                {/* If you want the *original RightCardSVG shape* to be on the left and clip an image,
                    you'd need to put the path from RightCardSVG here and adjust for objectBoundingBox */}
                <path d="M0.94898 0 C0.977157 0,1 0.0348149,1 0.0777605 V0.92224 V0.92224 C1 0.965185,0.977157 1,0.94898 1 H0.618206 C0.602442 1,0.591837 0.97037,0.591837 0.947123 V0.771384 C0.591837 0.717664,0.563512 0.675,0.528571 0.675 H0.027551 C0.0143694 0.675,0.000092305 0.660493,0 0.640807 V0.177294 C0 0.161833,0.00822335 0.149299,0.0183673 0.149299 H0.0795918 C0.0897358 0.149299,0.0979592 0.13686,0.0979592 0.121306 V0.0280093 C0.0979592 0.0125331,0.106183 0,0.116327 0 H0.94898 Z" />
            </clipPath>
        </defs>
    </svg>
);

const OriginalLeftCardBorderSVG = () => (
    <svg className="absolute inset-0 w-full h-full pointer-events-none" viewBox="0 0 980 643" fill="none" xmlns="http://www.w3.org/2000/svg">
        {/* The strokeWidth has been increased from 2 to 3 to make the border larger */}
        <path d="M930 0C957.614 0 980 22.3858 980 50V593C980 620.614 957.614 643 930 643H605.842C590.393 643 580 624.448 580 609V496C580 461.758 552.242 434 518 434H27C14.082 434 9.04588e-05 425.157 0 412.239V114C0 104.059 8.05888 96 18 96H78C87.9411 96 96 87.9411 96 78V18C96 8.05888 104.059 0 114 0H930Z" stroke="#F64040" strokeWidth="3" />
    </svg>
);
const OriginalRightCardSVG = () => (
    <svg className="absolute inset-0 w-full h-full" viewBox="0 0 1057 643" fill="none" xmlns="http://www.w3.org/2000/svg">
        {/* The strokeWidth has been increased from 2 to 3 to make the border larger */}
        <path d="M495 0C504.941 0 513 8.05888 513 18V78C513 87.9411 521.059 96 531 96H596C605.941 96 614 104.059 614 114V469C614 486.673 628.327 501 646 501H1025C1042.67 501 1057 515.327 1057 533V611C1057 628.673 1042.67 643 1025 643H28C12.536 643 0 630.464 0 615V190.522C0 171.203 21.1801 158 40.5 158H124.5C175.034 158 216 117.034 216 66.5C216 65.1325 215.97 63.7718 215.91 62.4189C214.8 37.1175 232.396 0 257.722 0H495Z" fill="#1C1C1C" stroke="#F64040" strokeWidth="3" />
    </svg>
);

const DesktopPageBorderSVG = () => (
    <svg
        className="absolute inset-0 w-full h-full"
        // The viewBox has been updated to match your new SVG's dimensions
        viewBox="0 0 1810 929"
        fill="none"
        preserveAspectRatio="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        {/* The content below is the new SVG code you provided */}
        <mask id="path-1-inside-1_130_60" fill="white">
            <path d="M1779 3C1787.28 3 1794 9.71573 1794 18V914C1794 922.284 1787.28 929 1779 929H31C22.7157 929 16 922.284 16 914V18C16 9.71573 22.7157 3 31 3H512C536.301 3 556 22.6995 556 47C556 66.8823 572.118 83 592 83H1217C1236.88 83 1253 66.8823 1253 47C1253 22.6995 1272.7 3 1297 3H1779Z" />
        </mask>
        <path d="M556 47L554 47L556 47ZM1253 47H1255H1253ZM1779 3V5C1786.18 5 1792 10.8203 1792 18H1794H1796C1796 8.61116 1788.39 1 1779 1V3ZM1794 18H1792V914H1794H1796V18H1794ZM1794 914H1792C1792 921.18 1786.18 927 1779 927V929V931C1788.39 931 1796 923.389 1796 914H1794ZM1779 929V927H31V929V931H1779V929ZM31 929V927C23.8203 927 18 921.18 18 914H16H14C14 923.389 21.6112 931 31 931V929ZM16 914H18V18H16H14V914H16ZM16 18H18C18 10.8203 23.8203 5 31 5V3V1C21.6112 1 14 8.61116 14 18H16ZM31 3V5H512V3V1H31V3ZM556 47L554 47C554 67.9868 571.013 85 592 85V83V81C573.222 81 558 65.7777 558 47L556 47ZM592 83V85H1217V83V81H592V83ZM1217 83V85C1237.99 85 1255 67.9868 1255 47L1253 47L1251 47C1251 65.7777 1235.78 81 1217 81V83ZM1297 3V5H1779V3V1H1297V3ZM1253 47H1255C1255 23.804 1273.8 5 1297 5V3V1C1271.59 1 1251 21.5949 1251 47H1253ZM512 3V5C535.196 5 554 23.804 554 47H556H558C558 21.5949 537.405 1 512 1V3Z" fill="#F64040" mask="url(#path-1-inside-1_130_60)" />
        <mask id="path-3-outside-2_130_60" maskUnits="userSpaceOnUse" x="18" y="45" width="94" height="458" fill="black">
            <rect fill="white" x="18" y="45" width="94" height="458" />
            <path d="M19 46.627H110.025V111.627H97.0127V59.6396H70.9873V98.6777H57.9746V59.6396H32.0127V111.627H19V46.627ZM44.2002 125.401C44.7503 124.851 45.4062 124.576 46.168 124.576H110.025V137.589H51.5L32.0127 157.076L51.5 176.627H110.025V189.576H46.168C45.3639 189.576 44.708 189.322 44.2002 188.814L19 163.614V150.602L44.2002 125.401ZM19 202.525H110.025V267.525H97.0127V215.538H70.9873V254.576H57.9746V215.538H32.0127V267.525H19V202.525ZM19 280.475H110.025V293.487H87.2373V300.025L54.7373 332.525H110.025V345.475H19V332.525H41.7246V325.987L74.2246 293.487H19V280.475ZM19 384.449H97.0127V358.424H110.025V423.424H97.0127V397.462H19V384.449ZM19 451.861C19 451.057 19.2539 450.401 19.7617 449.894L32.5205 437.198C33.0706 436.648 33.7266 436.373 34.4883 436.373H51.5V449.386H39.8203L32.0127 457.193V480.616L39.8203 488.424H50.2305L57.9746 480.616V451.861C57.9746 451.1 58.2497 450.444 58.7998 449.894L71.4951 437.198C72.0452 436.648 72.7012 436.373 73.4629 436.373H94.5371C95.2988 436.373 95.9548 436.648 96.5049 437.198L109.2 449.894C109.75 450.444 110.025 451.1 110.025 451.861V485.948C110.025 486.668 109.75 487.302 109.2 487.853L96.5049 500.611C95.9971 501.119 95.3411 501.373 94.5371 501.373H77.5254V488.424H89.2051L97.0127 480.616V457.193L89.2051 449.386H78.7949L70.9873 457.193V485.948C70.9873 486.71 70.7334 487.345 70.2256 487.853L57.4668 500.611C56.959 501.119 56.3031 501.373 55.499 501.373H34.4883C33.6842 501.373 33.0283 501.119 32.5205 500.611L19.7617 487.853C19.2539 487.345 19 486.71 19 485.948V451.861Z" />
        </mask>
        <path d="M19 46.627V45.627H18V46.627H19ZM110.025 46.627H111.025V45.627H110.025V46.627ZM110.025 111.627V112.627H111.025V111.627H110.025ZM97.0127 111.627H96.0127V112.627H97.0127V111.627ZM97.0127 59.6396H98.0127V58.6396H97.0127V59.6396ZM70.9873 59.6396V58.6396H69.9873V59.6396H70.9873ZM70.9873 98.6777V99.6777H71.9873V98.6777H70.9873ZM57.9746 98.6777H56.9746V99.6777H57.9746V98.6777ZM57.9746 59.6396H58.9746V58.6396H57.9746V59.6396ZM32.0127 59.6396V58.6396H31.0127V59.6396H32.0127ZM32.0127 111.627V112.627H33.0127V111.627H32.0127ZM19 111.627H18V112.627H19V111.627ZM19 46.627V47.627H110.025V46.627V45.627H19V46.627ZM110.025 46.627H109.025V111.627H110.025H111.025V46.627H110.025ZM110.025 111.627V110.627H97.0127V111.627V112.627H110.025V111.627ZM97.0127 111.627H98.0127V59.6396H97.0127H96.0127V111.627H97.0127ZM97.0127 59.6396V58.6396H70.9873V59.6396V60.6396H97.0127V59.6396ZM70.9873 59.6396H69.9873V98.6777H70.9873H71.9873V59.6396H70.9873ZM70.9873 98.6777V97.6777H57.9746V98.6777V99.6777H70.9873V98.6777ZM57.9746 98.6777H58.9746V59.6396H57.9746H56.9746V98.6777H57.9746ZM57.9746 59.6396V58.6396H32.0127V59.6396V60.6396H57.9746V59.6396ZM32.0127 59.6396H31.0127V111.627H32.0127H33.0127V59.6396H32.0127ZM32.0127 111.627V110.627H19V111.627V112.627H32.0127V111.627ZM19 111.627H20V46.627H19H18V111.627H19ZM44.2002 125.401L43.4931 124.694L44.2002 125.401ZM110.025 124.576H111.025V123.576H110.025V124.576ZM110.025 137.589V138.589H111.025V137.589H110.025ZM51.5 137.589V136.589H51.0858L50.7929 136.882L51.5 137.589ZM32.0127 157.076L31.3056 156.369L30.5996 157.075L31.3044 157.782L32.0127 157.076ZM51.5 176.627L50.7917 177.333L51.0848 177.627H51.5V176.627ZM110.025 176.627H111.025V175.627H110.025V176.627ZM110.025 189.576V190.576H111.025V189.576H110.025ZM19 163.614H18V164.028L18.2929 164.321L19 163.614ZM19 150.602L18.2929 149.894L18 150.187V150.602H19ZM44.2002 125.401L44.9073 126.108C45.2744 125.741 45.6778 125.576 46.168 125.576V124.576V123.576C45.1347 123.576 44.2263 123.961 43.4931 124.694L44.2002 125.401ZM46.168 124.576V125.576H110.025V124.576V123.576H46.168V124.576ZM110.025 124.576H109.025V137.589H110.025H111.025V124.576H110.025ZM110.025 137.589V136.589H51.5V137.589V138.589H110.025V137.589ZM51.5 137.589L50.7929 136.882L31.3056 156.369L32.0127 157.076L32.7198 157.783L52.2071 138.296L51.5 137.589ZM32.0127 157.076L31.3044 157.782L50.7917 177.333L51.5 176.627L52.2083 175.921L32.721 156.37L32.0127 157.076ZM51.5 176.627V177.627H110.025V176.627V175.627H51.5V176.627ZM110.025 176.627H109.025V189.576H110.025H111.025V176.627H110.025ZM110.025 189.576V188.576H46.168V189.576V190.576H110.025V189.576ZM46.168 189.576V188.576C45.5945 188.576 45.2044 188.404 44.9073 188.107L44.2002 188.814L43.4931 189.522C44.2116 190.24 45.1334 190.576 46.168 190.576V189.576ZM44.2002 188.814L44.9073 188.107L19.7071 162.907L19 163.614L18.2929 164.321L43.4931 189.522L44.2002 188.814ZM19 163.614H20V150.602H19H18V163.614H19ZM19 150.602L19.7071 151.309L44.9073 126.108L44.2002 125.401L43.4931 124.694L18.2929 149.894L19 150.602ZM19 202.525V201.525H18V202.525H19ZM110.025 202.525H111.025V201.525H110.025V202.525ZM110.025 267.525V268.525H111.025V267.525H110.025ZM97.0127 267.525H96.0127V268.525H97.0127V267.525ZM97.0127 215.538H98.0127V214.538H97.0127V215.538ZM70.9873 215.538V214.538H69.9873V215.538H70.9873ZM70.9873 254.576V255.576H71.9873V254.576H70.9873ZM57.9746 254.576H56.9746V255.576H57.9746V254.576ZM57.9746 215.538H58.9746V214.538H57.9746V215.538ZM32.0127 215.538V214.538H31.0127V215.538H32.0127ZM32.0127 267.525V268.525H33.0127V267.525H32.0127ZM19 267.525H18V268.525H19V267.525ZM19 202.525V203.525H110.025V202.525V201.525H19V202.525ZM110.025 202.525H109.025V267.525H110.025H111.025V202.525H110.025ZM110.025 267.525V266.525H97.0127V267.525V268.525H110.025V267.525ZM97.0127 267.525H98.0127V215.538H97.0127H96.0127V267.525H97.0127ZM97.0127 215.538V214.538H70.9873V215.538V216.538H97.0127V215.538ZM70.9873 215.538H69.9873V254.576H70.9873H71.9873V215.538H70.9873ZM70.9873 254.576V253.576H57.9746V254.576V255.576H70.9873V254.576ZM57.9746 254.576H58.9746V215.538H57.9746H56.9746V254.576H57.9746ZM57.9746 215.538V214.538H32.0127V215.538V216.538H57.9746V215.538ZM32.0127 215.538H31.0127V267.525H32.0127H33.0127V215.538H32.0127ZM32.0127 267.525V266.525H19V267.525V268.525H32.0127V267.525ZM19 267.525H20V202.525H19H18V267.525H19ZM19 280.475V279.475H18V280.475H19ZM110.025 280.475H111.025V279.475H110.025V280.475ZM110.025 293.487V294.487H111.025V293.487H110.025ZM87.2373 293.487V292.487H86.2373V293.487H87.2373ZM87.2373 300.025L87.9444 300.732L88.2373 300.44V300.025H87.2373ZM54.7373 332.525L54.0302 331.818L52.3231 333.525H54.7373V332.525ZM110.025 332.525H111.025V331.525H110.025V332.525ZM110.025 345.475V346.475H111.025V345.475H110.025ZM19 345.475H18V346.475H19V345.475ZM19 332.525V331.525H18V332.525H19ZM41.7246 332.525V333.525H42.7246V332.525H41.7246ZM41.7246 325.987L41.0175 325.28L40.7246 325.573V325.987H41.7246ZM74.2246 293.487L74.9317 294.194L76.6388 292.487H74.2246V293.487ZM19 293.487H18V294.487H19V293.487ZM19 280.475V281.475H110.025V280.475V279.475H19V280.475ZM110.025 280.475H109.025V293.487H110.025H111.025V280.475H110.025ZM110.025 293.487V292.487H87.2373V293.487V294.487H110.025V293.487ZM87.2373 293.487H86.2373V300.025H87.2373H88.2373V293.487H87.2373ZM87.2373 300.025L86.5302 299.318L54.0302 331.818L54.7373 332.525L55.4444 333.232L87.9444 300.732L87.2373 300.025ZM54.7373 332.525V333.525H110.025V332.525V331.525H54.7373V332.525ZM110.025 332.525H109.025V345.475H110.025H111.025V332.525H110.025ZM110.025 345.475V344.475H19V345.475V346.475H110.025V345.475ZM19 345.475H20V332.525H19H18V345.475H19ZM19 332.525V333.525H41.7246V332.525V331.525H19V332.525ZM41.7246 332.525H42.7246V325.987H41.7246H40.7246V332.525H41.7246ZM41.7246 325.987L42.4317 326.694L74.9317 294.194L74.2246 293.487L73.5175 292.78L41.0175 325.28L41.7246 325.987ZM74.2246 293.487V292.487H19V293.487V294.487H74.2246V293.487ZM19 293.487H20V280.475H19H18V293.487H19ZM19 384.449V383.449H18V384.449H19ZM97.0127 384.449V385.449H98.0127V384.449H97.0127ZM97.0127 358.424V357.424H96.0127V358.424H97.0127ZM110.025 358.424H111.025V357.424H110.025V358.424ZM110.025 423.424V424.424H111.025V423.424H110.025ZM97.0127 423.424H96.0127V424.424H97.0127V423.424ZM97.0127 397.462H98.0127V396.462H97.0127V397.462ZM19 397.462H18V398.462H19V397.462ZM19 384.449V385.449H97.0127V384.449V383.449H19V384.449ZM97.0127 384.449H98.0127V358.424H97.0127H96.0127V384.449H97.0127ZM97.0127 358.424V359.424H110.025V358.424V357.424H97.0127V358.424ZM110.025 358.424H109.025V423.424H110.025H111.025V358.424H110.025ZM110.025 423.424V422.424H97.0127V423.424V424.424H110.025V423.424ZM97.0127 423.424H98.0127V397.462H97.0127H96.0127V423.424H97.0127ZM97.0127 397.462V396.462H19V397.462V398.462H97.0127V397.462ZM19 397.462H20V384.449H19H18V397.462H19ZM19.7617 449.894L19.0564 449.185L19.0546 449.186L19.7617 449.894ZM32.5205 437.198L33.2259 437.907L33.2276 437.905L32.5205 437.198ZM51.5 436.373H52.5V435.373H51.5V436.373ZM51.5 449.386V450.386H52.5V449.386H51.5ZM39.8203 449.386V448.386H39.4061L39.1132 448.679L39.8203 449.386ZM32.0127 457.193L31.3056 456.486L31.0127 456.779V457.193H32.0127ZM32.0127 480.616H31.0127V481.03L31.3056 481.323L32.0127 480.616ZM39.8203 488.424L39.1132 489.131L39.4061 489.424H39.8203V488.424ZM50.2305 488.424V489.424H50.6471L50.9405 489.128L50.2305 488.424ZM57.9746 480.616L58.6846 481.32L58.9746 481.028V480.616H57.9746ZM58.7998 449.894L58.0927 449.186L58.7998 449.894ZM71.4951 437.198L72.2022 437.905L71.4951 437.198ZM96.5049 437.198L97.212 436.491L96.5049 437.198ZM109.2 449.894L108.493 450.601L109.2 449.894ZM109.2 487.853L108.493 487.145L108.491 487.147L109.2 487.853ZM96.5049 500.611L97.212 501.318L97.2138 501.317L96.5049 500.611ZM77.5254 501.373H76.5254V502.373H77.5254V501.373ZM77.5254 488.424V487.424H76.5254V488.424H77.5254ZM89.2051 488.424V489.424H89.6193L89.9122 489.131L89.2051 488.424ZM97.0127 480.616L97.7198 481.323L98.0127 481.03V480.616H97.0127ZM97.0127 457.193H98.0127V456.779L97.7198 456.486L97.0127 457.193ZM89.2051 449.386L89.9122 448.679L89.6193 448.386H89.2051V449.386ZM78.7949 449.386V448.386H78.3807L78.0878 448.679L78.7949 449.386ZM70.9873 457.193L70.2802 456.486L69.9873 456.779V457.193H70.9873ZM19 451.861H20C20 451.288 20.1717 450.898 20.4688 450.601L19.7617 449.894L19.0546 449.186C18.3361 449.905 18 450.827 18 451.861H19ZM19.7617 449.894L20.4671 450.602L33.2258 437.907L32.5205 437.198L31.8152 436.489L19.0564 449.185L19.7617 449.894ZM32.5205 437.198L33.2276 437.905C33.5947 437.538 33.9981 437.373 34.4883 437.373V436.373V435.373C33.4551 435.373 32.5466 435.758 31.8134 436.491L32.5205 437.198ZM34.4883 436.373V437.373H51.5V436.373V435.373H34.4883V436.373ZM51.5 436.373H50.5V449.386H51.5H52.5V436.373H51.5ZM51.5 449.386V448.386H39.8203V449.386V450.386H51.5V449.386ZM39.8203 449.386L39.1132 448.679L31.3056 456.486L32.0127 457.193L32.7198 457.9L40.5274 450.093L39.8203 449.386ZM32.0127 457.193H31.0127V480.616H32.0127H33.0127V457.193H32.0127ZM32.0127 480.616L31.3056 481.323L39.1132 489.131L39.8203 488.424L40.5274 487.717L32.7198 479.909L32.0127 480.616ZM39.8203 488.424V489.424H50.2305V488.424V487.424H39.8203V488.424ZM50.2305 488.424L50.9405 489.128L58.6846 481.32L57.9746 480.616L57.2646 479.912L49.5205 487.72L50.2305 488.424ZM57.9746 480.616H58.9746V451.861H57.9746H56.9746V480.616H57.9746ZM57.9746 451.861H58.9746C58.9746 451.371 59.1398 450.968 59.5069 450.601L58.7998 449.894L58.0927 449.186C57.3595 449.92 56.9746 450.828 56.9746 451.861H57.9746ZM58.7998 449.894L59.5069 450.601L72.2022 437.905L71.4951 437.198L70.788 436.491L58.0927 449.186L58.7998 449.894ZM71.4951 437.198L72.2022 437.905C72.5693 437.538 72.9727 437.373 73.4629 437.373V436.373V435.373C72.4297 435.373 71.5212 435.758 70.788 436.491L71.4951 437.198ZM73.4629 436.373V437.373H94.5371V436.373V435.373H73.4629V436.373ZM94.5371 436.373V437.373C95.0273 437.373 95.4307 437.538 95.7978 437.905L96.5049 437.198L97.212 436.491C96.4788 435.758 95.5703 435.373 94.5371 435.373V436.373ZM96.5049 437.198L95.7978 437.905L108.493 450.601L109.2 449.894L109.907 449.186L97.212 436.491L96.5049 437.198ZM109.2 449.894L108.493 450.601C108.86 450.968 109.025 451.371 109.025 451.861H110.025H111.025C111.025 450.828 110.64 449.92 109.907 449.186L109.2 449.894ZM110.025 451.861H109.025V485.948H110.025H111.025V451.861H110.025ZM110.025 485.948H109.025C109.025 486.379 108.873 486.766 108.493 487.145L109.2 487.853L109.907 488.56C110.628 487.839 111.025 486.956 111.025 485.948H110.025ZM109.2 487.853L108.491 487.147L95.796 499.906L96.5049 500.611L97.2138 501.317L109.909 488.558L109.2 487.853ZM96.5049 500.611L95.7978 499.904C95.5007 500.201 95.1106 500.373 94.5371 500.373V501.373V502.373C95.5717 502.373 96.4935 502.037 97.212 501.318L96.5049 500.611ZM94.5371 501.373V500.373H77.5254V501.373V502.373H94.5371V501.373ZM77.5254 501.373H78.5254V488.424H77.5254H76.5254V501.373H77.5254ZM77.5254 488.424V489.424H89.2051V488.424V487.424H77.5254V488.424ZM89.2051 488.424L89.9122 489.131L97.7198 481.323L97.0127 480.616L96.3056 479.909L88.498 487.717L89.2051 488.424ZM97.0127 480.616H98.0127V457.193H97.0127H96.0127V480.616H97.0127ZM97.0127 457.193L97.7198 456.486L89.9122 448.679L89.2051 449.386L88.498 450.093L96.3056 457.9L97.0127 457.193ZM89.2051 449.386V448.386H78.7949V449.386V450.386H89.2051V449.386ZM78.7949 449.386L78.0878 448.679L70.2802 456.486L70.9873 457.193L71.6944 457.9L79.502 450.093L78.7949 449.386ZM70.9873 457.193H69.9873V485.948H70.9873H71.9873V457.193H70.9873ZM70.9873 485.948H69.9873C69.9873 486.463 69.8265 486.837 69.5185 487.145L70.2256 487.853L70.9327 488.56C71.6403 487.852 71.9873 486.957 71.9873 485.948H70.9873ZM70.2256 487.853L69.5185 487.145L56.7597 499.904L57.4668 500.611L58.1739 501.318L70.9327 488.56L70.2256 487.853ZM57.4668 500.611L56.7597 499.904C56.4626 500.201 56.0725 500.373 55.499 500.373V501.373V502.373C56.5336 502.373 57.4554 502.037 58.1739 501.318L57.4668 500.611ZM55.499 501.373V500.373H34.4883V501.373V502.373H55.499V501.373ZM34.4883 501.373V500.373C33.9148 500.373 33.5247 500.201 33.2276 499.904L32.5205 500.611L31.8134 501.318C32.5319 502.037 33.4537 502.373 34.4883 502.373V501.373ZM32.5205 500.611L33.2276 499.904L20.4688 487.145L19.7617 487.853L19.0546 488.56L31.8134 501.318L32.5205 500.611ZM19.7617 487.853L20.4688 487.145C20.1608 486.837 20 486.463 20 485.948H19H18C18 486.957 18.347 487.852 19.0546 488.56L19.7617 487.853ZM19 485.948H20V451.861H19H18V485.948H19Z" fill="#F64040" mask="url(#path-3-outside-2_130_60)" />
        <mask id="path-5-outside-3_130_60" maskUnits="userSpaceOnUse" x="1698" y="426" width="94" height="458" fill="black">
            <rect fill="white" x="1698" y="426" width="94" height="458" />
            <path d="M1791 882.373H1699.97V817.373H1712.99V869.36H1739.01V830.322H1752.03V869.36H1777.99V817.373H1791V882.373ZM1765.8 803.599C1765.25 804.149 1764.59 804.424 1763.83 804.424H1699.97V791.411H1758.5L1777.99 771.924L1758.5 752.373H1699.97V739.424H1763.83C1764.64 739.424 1765.29 739.678 1765.8 740.186L1791 765.386V778.398L1765.8 803.599ZM1791 726.475H1699.97V661.475H1712.99V713.462H1739.01V674.424H1752.03V713.462H1777.99V661.475H1791V726.475ZM1791 648.525H1699.97V635.513H1722.76V628.975L1755.26 596.475H1699.97V583.525H1791V596.475H1768.28V603.013L1735.78 635.513H1791V648.525ZM1791 544.551H1712.99V570.576H1699.97V505.576H1712.99V531.538H1791V544.551ZM1791 477.139C1791 477.943 1790.75 478.599 1790.24 479.106L1777.48 491.802C1776.93 492.352 1776.27 492.627 1775.51 492.627H1758.5V479.614H1770.18L1777.99 471.807V448.384L1770.18 440.576H1759.77L1752.03 448.384V477.139C1752.03 477.9 1751.75 478.556 1751.2 479.106L1738.5 491.802C1737.95 492.352 1737.3 492.627 1736.54 492.627H1715.46C1714.7 492.627 1714.05 492.352 1713.5 491.802L1700.8 479.106C1700.25 478.556 1699.97 477.9 1699.97 477.139V443.052C1699.97 442.332 1700.25 441.698 1700.8 441.147L1713.5 428.389C1714 427.881 1714.66 427.627 1715.46 427.627H1732.47V440.576H1720.79L1712.99 448.384V471.807L1720.79 479.614H1731.21L1739.01 471.807V443.052C1739.01 442.29 1739.27 441.655 1739.77 441.147L1752.53 428.389C1753.04 427.881 1753.7 427.627 1754.5 427.627H1775.51C1776.32 427.627 1776.97 427.881 1777.48 428.389L1790.24 441.147C1790.75 441.655 1791 442.29 1791 443.052V477.139Z" />
        </mask>
        <path d="M1791 882.373V883.373H1792V882.373H1791ZM1699.97 882.373H1698.97V883.373H1699.97V882.373ZM1699.97 817.373V816.373H1698.97V817.373H1699.97ZM1712.99 817.373H1713.99V816.373H1712.99V817.373ZM1712.99 869.36H1711.99V870.36H1712.99V869.36ZM1739.01 869.36V870.36H1740.01V869.36H1739.01ZM1739.01 830.322V829.322H1738.01V830.322H1739.01ZM1752.03 830.322H1753.03V829.322H1752.03V830.322ZM1752.03 869.36H1751.03V870.36H1752.03V869.36ZM1777.99 869.36V870.36H1778.99V869.36H1777.99ZM1777.99 817.373V816.373H1776.99V817.373H1777.99ZM1791 817.373H1792V816.373H1791V817.373ZM1791 882.373V881.373H1699.97V882.373V883.373H1791V882.373ZM1699.97 882.373H1700.97V817.373H1699.97H1698.97V882.373H1699.97ZM1699.97 817.373V818.373H1712.99V817.373V816.373H1699.97V817.373ZM1712.99 817.373H1711.99V869.36H1712.99H1713.99V817.373H1712.99ZM1712.99 869.36V870.36H1739.01V869.36V868.36H1712.99V869.36ZM1739.01 869.36H1740.01V830.322H1739.01H1738.01V869.36H1739.01ZM1739.01 830.322V831.322H1752.03V830.322V829.322H1739.01V830.322ZM1752.03 830.322H1751.03V869.36H1752.03H1753.03V830.322H1752.03ZM1752.03 869.36V870.36H1777.99V869.36V868.36H1752.03V869.36ZM1777.99 869.36H1778.99V817.373H1777.99H1776.99V869.36H1777.99ZM1777.99 817.373V818.373H1791V817.373V816.373H1777.99V817.373ZM1791 817.373H1790V882.373H1791H1792V817.373H1791ZM1765.8 803.599L1766.51 804.306L1765.8 803.599ZM1699.97 804.424H1698.97V805.424H1699.97V804.424ZM1699.97 791.411V790.411H1698.97V791.411H1699.97ZM1758.5 791.411V792.411H1758.91L1759.21 792.118L1758.5 791.411ZM1777.99 771.924L1778.69 772.631L1779.4 771.925L1778.7 771.218L1777.99 771.924ZM1758.5 752.373L1759.21 751.667L1758.92 751.373H1758.5V752.373ZM1699.97 752.373H1698.97V753.373H1699.97V752.373ZM1699.97 739.424V738.424H1698.97V739.424H1699.97ZM1791 765.386H1792V764.972L1791.71 764.679L1791 765.386ZM1791 778.398L1791.71 779.106L1792 778.813V778.398H1791ZM1765.8 803.599L1765.09 802.892C1764.73 803.259 1764.32 803.424 1763.83 803.424V804.424V805.424C1764.87 805.424 1765.77 805.039 1766.51 804.306L1765.8 803.599ZM1763.83 804.424V803.424H1699.97V804.424V805.424H1763.83V804.424ZM1699.97 804.424H1700.97V791.411H1699.97H1698.97V804.424H1699.97ZM1699.97 791.411V792.411H1758.5V791.411V790.411H1699.97V791.411ZM1758.5 791.411L1759.21 792.118L1778.69 772.631L1777.99 771.924L1777.28 771.217L1757.79 790.704L1758.5 791.411ZM1777.99 771.924L1778.7 771.218L1759.21 751.667L1758.5 752.373L1757.79 753.079L1777.28 772.63L1777.99 771.924ZM1758.5 752.373V751.373H1699.97V752.373V753.373H1758.5V752.373ZM1699.97 752.373H1700.97V739.424H1699.97H1698.97V752.373H1699.97ZM1699.97 739.424V740.424H1763.83V739.424V738.424H1699.97V739.424ZM1763.83 739.424V740.424C1764.41 740.424 1764.8 740.596 1765.09 740.893L1765.8 740.186L1766.51 739.478C1765.79 738.76 1764.87 738.424 1763.83 738.424V739.424ZM1765.8 740.186L1765.09 740.893L1790.29 766.093L1791 765.386L1791.71 764.679L1766.51 739.478L1765.8 740.186ZM1791 765.386H1790V778.398H1791H1792V765.386H1791ZM1791 778.398L1790.29 777.691L1765.09 802.892L1765.8 803.599L1766.51 804.306L1791.71 779.106L1791 778.398ZM1791 726.475V727.475H1792V726.475H1791ZM1699.97 726.475H1698.97V727.475H1699.97V726.475ZM1699.97 661.475V660.475H1698.97V661.475H1699.97ZM1712.99 661.475H1713.99V660.475H1712.99V661.475ZM1712.99 713.462H1711.99V714.462H1712.99V713.462ZM1739.01 713.462V714.462H1740.01V713.462H1739.01ZM1739.01 674.424V673.424H1738.01V674.424H1739.01ZM1752.03 674.424H1753.03V673.424H1752.03V674.424ZM1752.03 713.462H1751.03V714.462H1752.03V713.462ZM1777.99 713.462V714.462H1778.99V713.462H1777.99ZM1777.99 661.475V660.475H1776.99V661.475H1777.99ZM1791 661.475H1792V660.475H1791V661.475ZM1791 726.475V725.475H1699.97V726.475V727.475H1791V726.475ZM1699.97 726.475H1700.97V661.475H1699.97H1698.97V726.475H1699.97ZM1699.97 661.475V662.475H1712.99V661.475V660.475H1699.97V661.475ZM1712.99 661.475H1711.99V713.462H1712.99H1713.99V661.475H1712.99ZM1712.99 713.462V714.462H1739.01V713.462V712.462H1712.99V713.462ZM1739.01 713.462H1740.01V674.424H1739.01H1738.01V713.462H1739.01ZM1739.01 674.424V675.424H1752.03V674.424V673.424H1739.01V674.424ZM1752.03 674.424H1751.03V713.462H1752.03H1753.03V674.424H1752.03ZM1752.03 713.462V714.462H1777.99V713.462V712.462H1752.03V713.462ZM1777.99 713.462H1778.99V661.475H1777.99H1776.99V713.462H1777.99ZM1777.99 661.475V662.475H1791V661.475V660.475H1777.99V661.475ZM1791 661.475H1790V726.475H1791H1792V661.475H1791ZM1791 648.525V649.525H1792V648.525H1791ZM1699.97 648.525H1698.97V649.525H1699.97V648.525ZM1699.97 635.513V634.513H1698.97V635.513H1699.97ZM1722.76 635.513V636.513H1723.76V635.513H1722.76ZM1722.76 628.975L1722.06 628.268L1721.76 628.56V628.975H1722.76ZM1755.26 596.475L1755.97 597.182L1757.68 595.475H1755.26V596.475ZM1699.97 596.475H1698.97V597.475H1699.97V596.475ZM1699.97 583.525V582.525H1698.97V583.525H1699.97ZM1791 583.525H1792V582.525H1791V583.525ZM1791 596.475V597.475H1792V596.475H1791ZM1768.28 596.475V595.475H1767.28V596.475H1768.28ZM1768.28 603.013L1768.98 603.72L1769.28 603.427V603.013H1768.28ZM1735.78 635.513L1735.07 634.806L1733.36 636.513H1735.78V635.513ZM1791 635.513H1792V634.513H1791V635.513ZM1791 648.525V647.525H1699.97V648.525V649.525H1791V648.525ZM1699.97 648.525H1700.97V635.513H1699.97H1698.97V648.525H1699.97ZM1699.97 635.513V636.513H1722.76V635.513V634.513H1699.97V635.513ZM1722.76 635.513H1723.76V628.975H1722.76H1721.76V635.513H1722.76ZM1722.76 628.975L1723.47 629.682L1755.97 597.182L1755.26 596.475L1754.56 595.768L1722.06 628.268L1722.76 628.975ZM1755.26 596.475V595.475H1699.97V596.475V597.475H1755.26V596.475ZM1699.97 596.475H1700.97V583.525H1699.97H1698.97V596.475H1699.97ZM1699.97 583.525V584.525H1791V583.525V582.525H1699.97V583.525ZM1791 583.525H1790V596.475H1791H1792V583.525H1791ZM1791 596.475V595.475H1768.28V596.475V597.475H1791V596.475ZM1768.28 596.475H1767.28V603.013H1768.28H1769.28V596.475H1768.28ZM1768.28 603.013L1767.57 602.306L1735.07 634.806L1735.78 635.513L1736.48 636.22L1768.98 603.72L1768.28 603.013ZM1735.78 635.513V636.513H1791V635.513V634.513H1735.78V635.513ZM1791 635.513H1790V648.525H1791H1792V635.513H1791ZM1791 544.551V545.551H1792V544.551H1791ZM1712.99 544.551V543.551H1711.99V544.551H1712.99ZM1712.99 570.576V571.576H1713.99V570.576H1712.99ZM1699.97 570.576H1698.97V571.576H1699.97V570.576ZM1699.97 505.576V504.576H1698.97V505.576H1699.97ZM1712.99 505.576H1713.99V504.576H1712.99V505.576ZM1712.99 531.538H1711.99V532.538H1712.99V531.538ZM1791 531.538H1792V530.538H1791V531.538ZM1791 544.551V543.551H1712.99V544.551V545.551H1791V544.551ZM1712.99 544.551H1711.99V570.576H1712.99H1713.99V544.551H1712.99ZM1712.99 570.576V569.576H1699.97V570.576V571.576H1712.99V570.576ZM1699.97 570.576H1700.97V505.576H1699.97H1698.97V570.576H1699.97ZM1699.97 505.576V506.576H1712.99V505.576V504.576H1699.97V505.576ZM1712.99 505.576H1711.99V531.538H1712.99H1713.99V505.576H1712.99ZM1712.99 531.538V532.538H1791V531.538V530.538H1712.99V531.538ZM1791 531.538H1790V544.551H1791H1792V531.538H1791ZM1790.24 479.106L1790.94 479.815L1790.95 479.814L1790.24 479.106ZM1777.48 491.802L1776.77 491.093L1776.77 491.095L1777.48 491.802ZM1758.5 492.627H1757.5V493.627H1758.5V492.627ZM1758.5 479.614V478.614H1757.5V479.614H1758.5ZM1770.18 479.614V480.614H1770.59L1770.89 480.321L1770.18 479.614ZM1777.99 471.807L1778.69 472.514L1778.99 472.221V471.807H1777.99ZM1777.99 448.384H1778.99V447.97L1778.69 447.677L1777.99 448.384ZM1770.18 440.576L1770.89 439.869L1770.59 439.576H1770.18V440.576ZM1759.77 440.576V439.576H1759.35L1759.06 439.872L1759.77 440.576ZM1752.03 448.384L1751.32 447.68L1751.03 447.972V448.384H1752.03ZM1751.2 479.106L1751.91 479.814L1751.2 479.106ZM1738.5 491.802L1737.8 491.095L1738.5 491.802ZM1713.5 491.802L1712.79 492.509L1713.5 491.802ZM1700.8 479.106L1701.51 478.399L1700.8 479.106ZM1700.8 441.147L1701.51 441.855L1701.51 441.853L1700.8 441.147ZM1713.5 428.389L1712.79 427.682L1712.79 427.683L1713.5 428.389ZM1732.47 427.627H1733.47V426.627H1732.47V427.627ZM1732.47 440.576V441.576H1733.47V440.576H1732.47ZM1720.79 440.576V439.576H1720.38L1720.09 439.869L1720.79 440.576ZM1712.99 448.384L1712.28 447.677L1711.99 447.97V448.384H1712.99ZM1712.99 471.807H1711.99V472.221L1712.28 472.514L1712.99 471.807ZM1720.79 479.614L1720.09 480.321L1720.38 480.614H1720.79V479.614ZM1731.21 479.614V480.614H1731.62L1731.91 480.321L1731.21 479.614ZM1739.01 471.807L1739.72 472.514L1740.01 472.221V471.807H1739.01ZM1791 477.139H1790C1790 477.712 1789.83 478.102 1789.53 478.399L1790.24 479.106L1790.95 479.814C1791.66 479.095 1792 478.173 1792 477.139H1791ZM1790.24 479.106L1789.53 478.398L1776.77 491.093L1777.48 491.802L1778.18 492.511L1790.94 479.815L1790.24 479.106ZM1777.48 491.802L1776.77 491.095C1776.41 491.462 1776 491.627 1775.51 491.627V492.627V493.627C1776.54 493.627 1777.45 493.242 1778.19 492.509L1777.48 491.802ZM1775.51 492.627V491.627H1758.5V492.627V493.627H1775.51V492.627ZM1758.5 492.627H1759.5V479.614H1758.5H1757.5V492.627H1758.5ZM1758.5 479.614V480.614H1770.18V479.614V478.614H1758.5V479.614ZM1770.18 479.614L1770.89 480.321L1778.69 472.514L1777.99 471.807L1777.28 471.1L1769.47 478.907L1770.18 479.614ZM1777.99 471.807H1778.99V448.384H1777.99H1776.99V471.807H1777.99ZM1777.99 448.384L1778.69 447.677L1770.89 439.869L1770.18 440.576L1769.47 441.283L1777.28 449.091L1777.99 448.384ZM1770.18 440.576V439.576H1759.77V440.576V441.576H1770.18V440.576ZM1759.77 440.576L1759.06 439.872L1751.32 447.68L1752.03 448.384L1752.74 449.088L1760.48 441.28L1759.77 440.576ZM1752.03 448.384H1751.03V477.139H1752.03H1753.03V448.384H1752.03ZM1752.03 477.139H1751.03C1751.03 477.629 1750.86 478.032 1750.49 478.399L1751.2 479.106L1751.91 479.814C1752.64 479.08 1753.03 478.172 1753.03 477.139H1752.03ZM1751.2 479.106L1750.49 478.399L1737.8 491.095L1738.5 491.802L1739.21 492.509L1751.91 479.814L1751.2 479.106ZM1738.5 491.802L1737.8 491.095C1737.43 491.462 1737.03 491.627 1736.54 491.627V492.627V493.627C1737.57 493.627 1738.48 493.242 1739.21 492.509L1738.5 491.802ZM1736.54 492.627V491.627H1715.46V492.627V493.627H1736.54V492.627ZM1715.46 492.627V491.627C1714.97 491.627 1714.57 491.462 1714.2 491.095L1713.5 491.802L1712.79 492.509C1713.52 493.242 1714.43 493.627 1715.46 493.627V492.627ZM1713.5 491.802L1714.2 491.095L1701.51 478.399L1700.8 479.106L1700.09 479.814L1712.79 492.509L1713.5 491.802ZM1700.8 479.106L1701.51 478.399C1701.14 478.032 1700.97 477.629 1700.97 477.139H1699.97H1698.97C1698.97 478.172 1699.36 479.08 1700.09 479.814L1700.8 479.106ZM1699.97 477.139H1700.97V443.052H1699.97H1698.97V477.139H1699.97ZM1699.97 443.052H1700.97C1700.97 442.621 1701.13 442.234 1701.51 441.855L1700.8 441.147L1700.09 440.44C1699.37 441.161 1698.97 442.044 1698.97 443.052H1699.97ZM1700.8 441.147L1701.51 441.853L1714.2 429.094L1713.5 428.389L1712.79 427.683L1700.09 440.442L1700.8 441.147ZM1713.5 428.389L1714.2 429.096C1714.5 428.799 1714.89 428.627 1715.46 428.627V427.627V426.627C1714.43 426.627 1713.51 426.963 1712.79 427.682L1713.5 428.389ZM1715.46 427.627V428.627H1732.47V427.627V426.627H1715.46V427.627ZM1732.47 427.627H1731.47V440.576H1732.47H1733.47V427.627H1732.47ZM1732.47 440.576V439.576H1720.79V440.576V441.576H1732.47V440.576ZM1720.79 440.576L1720.09 439.869L1712.28 447.677L1712.99 448.384L1713.69 449.091L1721.5 441.283L1720.79 440.576ZM1712.99 448.384H1711.99V471.807H1712.99H1713.99V448.384H1712.99ZM1712.99 471.807L1712.28 472.514L1720.09 480.321L1720.79 479.614L1721.5 478.907L1713.69 471.1L1712.99 471.807ZM1720.79 479.614V480.614H1731.21V479.614V478.614H1720.79V479.614ZM1731.21 479.614L1731.91 480.321L1739.72 472.514L1739.01 471.807L1738.31 471.1L1730.5 478.907L1731.21 479.614ZM1739.01 471.807H1740.01V443.052H1739.01H1738.01V471.807H1739.01ZM1739.01 443.052H1740.01C1740.01 442.537 1740.17 442.163 1740.48 441.855L1739.77 441.147L1739.07 440.44C1738.36 441.148 1738.01 442.043 1738.01 443.052H1739.01ZM1739.77 441.147L1740.48 441.855L1753.24 429.096L1752.53 428.389L1751.83 427.682L1739.07 440.44L1739.77 441.147ZM1752.53 428.389L1753.24 429.096C1753.54 428.799 1753.93 428.627 1754.5 428.627V427.627V426.627C1753.47 426.627 1752.54 426.963 1751.83 427.682L1752.53 428.389ZM1754.5 427.627V428.627H1775.51V427.627V426.627H1754.5V427.627ZM1775.51 427.627V428.627C1776.09 428.627 1776.48 428.799 1776.77 429.096L1777.48 428.389L1778.19 427.682C1777.47 426.963 1776.55 426.627 1775.51 426.627V427.627ZM1777.48 428.389L1776.77 429.096L1789.53 441.855L1790.24 441.147L1790.95 440.44L1778.19 427.682L1777.48 428.389ZM1790.24 441.147L1789.53 441.855C1789.84 442.163 1790 442.537 1790 443.052H1791H1792C1792 442.043 1791.65 441.148 1790.95 440.44L1790.24 441.147ZM1791 443.052H1790V477.139H1791H1792V443.052H1791Z" fill="#F64040" mask="url(#path-5-outside-3_130_60)" />
    </svg>
);

const MobilePageBorderSVG = () => (
    <svg className="absolute inset-0 w-full h-full" viewBox="0 0 364 742" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
        {/* Added rx="20" to create curved corners on the rectangle. You can adjust this value for more or less curve. */}
        <rect x="1" y="1" width="362" height="740" rx="20" stroke="#F64040" strokeWidth="2" />
    </svg>
);

const DetailsRegisterButton = ({ href }) => (
    <a href={href} target="_blank" rel="noopener noreferrer" className="cursor-target cursor-none relative w-full max-w-[280px] h-[58px] group text-white font-['KH Interference'] tracking-widest uppercase text-sm flex items-center justify-center mx-auto">
        <svg className="absolute inset-0 w-full h-full" viewBox="0 0 285 58" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 1H275C279.971 1 284 5.02944 284 10V31.1021C284 32.2435 283.606 33.3444 282.88 34.2217L273.231 45.3981L262.041 56.622C261.268 57.47 260.16 58 258.998 58H26.0019C24.8402 58 23.7323 57.47 22.9593 56.622L11.769 45.3981L2.11984 34.2217C1.39383 33.3444 1 32.2435 1 31.1021V10C1 5.02944 5.02944 1 10 1Z" stroke="#F64040" strokeWidth="2" />
        </svg>
        <span className="relative z-10">Register Now</span>
    </a>
);

const ViewDetailsButton = ({ onClick }) => (
    <button onClick={onClick} className="cursor-target cursor-none relative w-full h-[50px] group text-white font-['KH Interference'] tracking-widest uppercase text-sm">
        <svg className="absolute inset-0 w-full h-full" viewBox="0 0 379 84" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 1H368C373.523 1 378 5.47716 378 11V37.2012C378 39.9827 376.841 42.639 374.803 44.5312L356.591 61.4326L334.06 80.6143C332.251 82.154 329.953 83 327.577 83H51.4229C49.0474 83 46.7492 82.154 44.9404 80.6143L22.4082 61.4326L4.19727 44.5312C2.15851 42.639 1 39.9827 1 37.2012V11C1 5.47715 5.47715 1 11 1Z" stroke="#F64040" strokeWidth="2" />
        </svg>
        <span className="relative z-10">View Details</span>
    </button>
);

const CardShapeSVG = () => (
    <svg className="absolute inset-0 w-full h-full" viewBox="0 0 464 636" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 80.5V19C1 9.05888 9.05887 1 19 1H112.169C115.016 1 117.822 1.67525 120.357 2.9703L170.393 28.5297C172.928 29.8248 175.734 30.5 178.581 30.5H285.419C288.266 30.5 291.072 29.8247 293.607 28.5297L343.643 2.9703C346.178 1.67525 348.984 1 351.831 1H445C454.941 1 463 9.05887 463 19V547.07C463 552.122 460.877 556.942 457.148 560.352L406.852 605.648C403.123 609.058 398.303 611 393.25 611H70.75C65.6971 611 60.8766 609.058 57.1484 605.648L6.85163 560.352C3.12343 556.942 1 552.122 1 547.07V80.5Z" fill="#1C1C1C" stroke="#333333" strokeWidth="1" />
    </svg>
);

// --- MODIFIED & NEW COMPONENTS ---

const EventCard = ({ event, onViewDetailsClick }) => (
    // ✨ CHANGE: "w-full" is now "w-11/12" to make the card narrower.
    // "mx-auto" is added to center the card within its container (the grid cell).
    <div className="relative w-11/12 mx-auto aspect-[464/636]">
        <CardShapeSVG />
        <div className="absolute inset-0 p-6 flex flex-col">
            <div className="flex-grow space-y-2 mb-2">
                <h3 className="text-center text-xl font-['KH Interference'] text-white leading-tight">{event.title}</h3>
                <p className="text-neutral-400 text-xs leading-snug">{event.description.substring(0, 150)}...</p>
            </div>
            <div className="flex-shrink-0 mt-auto">
                <ViewDetailsButton onClick={() => onViewDetailsClick(event)} />
            </div>
        </div>
    </div>
);

const FilterNavigation = ({ activeFilter, setActiveFilter }) => (
    // This component is integrated as requested and is responsive.
    <div className="flex justify-center -mt-5 md:-mt-2">
        <div className="relative flex items-center justify-center p-1.5 border-2 border-white rounded-full mx-auto w-full max-w-[300px] md:max-w-md bg-black/30">
            <div className={`absolute top-1/2 -translate-y-1/2 left-1.5 w-[calc(50%-6px)] h-[calc(100%-12px)] bg-red-600 rounded-full transition-transform duration-300 ease-out ${activeFilter === 'non-technical' ? 'translate-x-full' : 'translate-x-0'}`}></div>
            <button
                onClick={() => setActiveFilter("technical")}
                className="cursor-target cursor-none relative flex-1 py-2 text-white text-xs md:text-sm uppercase font-['KH Interference'] tracking-wider text-center"
            >
                Technical Events
            </button>
            <button
                onClick={() => setActiveFilter("non-technical")}
                className="cursor-target cursor-none relative flex-1 py-2 text-white text-xs md:text-sm uppercase font-['KH Interference'] tracking-wider text-center"
            >
                Non-Technical Events
            </button>
        </div>
    </div>
);

const EventModal = ({ event, onClose }) => {
    if (!event) return null;
    const handleModalContentClick = (e) => e.stopPropagation();

    return (
        <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4" onClick={onClose}>
            {/* ImageClipPathSVG is now defined globally, but the ID needs to target the correct path */}
            <ImageClipPathSVG />

            {/* --- DESKTOP LAYOUT --- */}
            {/* SWAPPED THE ORDER AND ADJUSTED STYLES FOR OVERLAP */}
            <div onClick={handleModalContentClick} className="relative w-full max-w-6xl mx-auto hidden md:flex flex-row items-center justify-center animate-scale-in">

                {/* NEW LEFT CARD - Uses OriginalRightCardSVG */}
                <div className="relative w-1/2 max-w-[550px] aspect-[1057/643] mr-[-120px] z-10"> {/* Adjusted margin and z-index */}
                    <OriginalRightCardSVG /> {/* This is the SVG that was originally on the right */}
                    <div className="absolute inset-0 flex flex-col justify-between text-white font-['KH Interference'] p-12 lg:p-20">
                        {/* Content for the "new" left card */}
                        <div className="space-y-4">
                            <h2 className="text-2xl lg:text-3xl uppercase tracking-wider text-white mb-2">{event.title}</h2>
                            <p className="text-neutral-300 text-sm leading-relaxed max-h-[200px] overflow-y-auto custom-scrollbar pr-2">{event.description}</p>
                        </div>
                        <div className="mt-6">
                            <DetailsRegisterButton href={event.registrationUrl} />
                        </div>
                    </div>
                </div>

                {/* NEW RIGHT CARD - Uses OriginalLeftCardBorderSVG and clips the image */}
                <div className="relative w-1/2 max-w-[500px] aspect-[980/643] z-20"> {/* Adjusted z-index */}
                    {/* The image here will now have the clip-path that was previously for the left card */}
                    <img src={event.imageUrl} alt={event.title} className="w-full h-full object-cover" style={{ clipPath: 'url(#left-card-clip)' }} />
                    <OriginalLeftCardBorderSVG /> {/* This is the SVG that was originally on the left */}
                </div>
            </div>

            {/* --- MOBILE LAYOUT --- */}
            <div onClick={handleModalContentClick} className="relative w-full max-w-sm md:hidden bg-[#1C1C1C] border-2 border-[#F64040] rounded-2xl animate-scale-in flex flex-col p-6 space-y-4">
                <img src={event.imageUrl} alt={event.title} className="w-full h-auto aspect-video object-cover rounded-lg" />
                <div className="flex-grow flex flex-col justify-between overflow-hidden">
                    <div className="space-y-2 overflow-y-auto custom-scrollbar pr-2">
                        <h2 className="text-2xl uppercase tracking-wider text-white">{event.title}</h2>
                        <p className="text-neutral-300 text-sm leading-normal">{event.description}</p>
                    </div>
                    <div className="mt-6 flex-shrink-0">
                        <DetailsRegisterButton href={event.registrationUrl} />
                    </div>
                </div>
            </div>

            <button onClick={onClose} className="cursor-target cursor-none absolute top-4 right-4 md:top-6 md:right-6 text-neutral-400 hover:text-white transition-colors z-50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    );
};


// --- MAIN PAGE COMPONENT ---
const EventsPage = () => {
    const [activeFilter, setActiveFilter] = useState("technical");
    const [selectedEvent, setSelectedEvent] = useState(null);

    const filteredEvents = useMemo(() => {
        return allEvents.filter(event => event.category === activeFilter);
    }, [activeFilter]);

    return (
        <>
            <style>{`
                .dot-grid { background-image: radial-gradient(circle at 1px 1px, rgba(200, 200, 200, 0.2) 1px, transparent 0); background-size: 20px 20px; }
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #F64040; border-radius: 2px; }
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                @keyframes scale-in {
                    from { transform: scale(0.9) translateY(20px); opacity: 0; }
                    to { transform: scale(1) translateY(0); opacity: 1; }
                }
                .animate-scale-in { animation: scale-in 0.4s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
            `}</style>

            <main className="h-screen w-screen relative overflow-hidden dot-grid font-['KH Interference'] flex items-center justify-center p-4 sm:p-9">
                <div className="relative w-full h-full max-w-screen-2xl">
                    {/* ✨ CHANGE: SVG border logic is preserved. Fancy on desktop, simpler on mobile. */}
                    <div className="absolute inset-0 z-0 pointer-events-none">
                        <div className="hidden md:block w-full h-full">
                            <DesktopPageBorderSVG />
                        </div>
                        <div className="block md:hidden w-full h-full">
                            <MobilePageBorderSVG />
                        </div>
                    </div>

                    {/* ✨ CHANGE: Clean layout structure is preserved: Filter -> Content */}
                    <div className="absolute inset-0 z-10 flex flex-col pt-0">
                        {/* Filter is sticky, centered, and positioned correctly within the border design */}
                        <div className="flex-shrink-0 sticky top-0 bg-transparent z-20 pt-8 md:pt-0">
                            <FilterNavigation activeFilter={activeFilter} setActiveFilter={setActiveFilter} />
                        </div>
                        
                        {/* Scrollable content area */}
                        <div className="flex-grow overflow-y-scroll no-scrollbar pt-12 md:pt-16 pb-12">
                            {/* ✨ CHANGE: Updated the grid for better responsiveness.
                              - More breakpoints (sm, lg) for smoother scaling.
                              - Increased padding on larger screens (md:px-12 lg:px-20) for better spacing inside the border.
                              - Adjusted gaps for a cleaner look with smaller cards.
                            */}
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12 px-6 md:px-12 lg:px-20">
                                {filteredEvents.map(event => (
                                    // ✨ CHANGE: Removed the restrictive 'max-w-sm' wrapper. 
                                    // The EventCard now responsively fills its grid cell.
                                    <EventCard key={event.id} event={event} onViewDetailsClick={setSelectedEvent} />
                                ))}
                            </div>
                        </div>

                        {/* Spacer at the bottom to prevent content from hitting the edge */}
                        <div className="flex-shrink-0 h-12 md:h-24"></div>
                    </div>
                </div>
            </main>

            <EventModal event={selectedEvent} onClose={() => setSelectedEvent(null)} />
        </>
    );
};

export default EventsPage;